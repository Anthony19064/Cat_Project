<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Gang</title>
    <link rel="icon" type="image/svg" href="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fpaw-solid.svg?alt=media&token=79aa15ef-7351-4684-a4f4-94815f3b25e1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dangrek&family=Mali:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/adoptPopup.css">
    <link rel="stylesheet" href="../css/post.css">
    <link rel="stylesheet" href="../css/swiper.css">
    <link rel="stylesheet" href="../css/comment.css">
    <link rel="stylesheet" href="../css/addPostPopup.css">
    <link rel="stylesheet" href="../css/radio.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>



</head>

<body>

    <nav class="navbar">
        <div class="nav-c">
            <!-- Logo อยู่ทางซ้ายสุด -->
            <a href="../html/index.html" style="text-decoration: none;" class="logo">Cat Gang <i
                    class="fa-solid fa-cat"></i>

                <!-- ส่วนที่เหลืออยู่ขวาสุด -->
                <div class="right-section">
                    <!-- ปุ่ม Login -->
                    <a id="rigth-btn" class="btn ">
                    </a>


                </div>
        </div>
    </nav>





    <!-- sidebar -->
    <div id="sidebar" class="sidebar">
        <button class="close-btn"  id="close-btn"><i class="fas fa-times"></i></button>
        <div class="sidebar-content">
            <img class="userimg-side" id="userimg-side">
            <h5 class="username-side" id="user-side">
                <i class="fas fa-user-circle"></i> Username
            </h5>
            <ul>
                <li><a href="../html/profile.html"><i class="fas fa-user"></i> My profile</a></li>
                <li><a href="../html/profile.html?tab=myadopt"><i class="fa-solid fa-envelope"></i> My request</a></li>
                <li><a href="../html/profile.html?tab=mybookmark"><i class="fas fa-bookmark"></i> My bookmark</a></li>
                <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Sign out</a></li>
            </ul>
            <h4><i class="fas fa-bell"></i> Your notification</h4>
            <div class="notification" id="notiContainer">
            </div>
        </div>
    </div>


    <!-- swiper-slide -->
    <section id="tranding">
        <div class="swiper tranding-slider">
            <div class="swiper-wrapper">
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F1.png?alt=media&token=b98e0264-6e0a-4ecb-8a46-125a71643dbc"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F2.png?alt=media&token=af6713ae-be5b-417a-8d90-4bf3aad8d5a8"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F3.png?alt=media&token=d82f191f-bc6e-4a36-88e1-d05bfb704cee"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F3491e2fc28de7915.png?alt=media&token=3b043043-cc9b-4117-95c4-005b25de4db4"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F4.png?alt=media&token=14eb3ea6-27ec-4d3c-aa13-128029eeeb39"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F5.png?alt=media&token=2ae0409c-c275-4759-8b0e-ca825fdaed90"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
                <!-- Slide-start -->
                <div class="swiper-slide tranding-slide">
                    <div class="tranding-slide-img">
                        <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2F%E0%B9%851.png?alt=media&token=753639cf-311d-4be7-a439-6811a8f41d6a"alt="Tranding">
                    </div>

                </div>
                <!-- Slide-end -->
            </div>

            <div class="tranding-slider-control">
                <div class="swiper-button-prev slider-arrow">
                    <i class="fa-solid fa-arrow-left fa-lg" style="color: #000000;"></i>
                </div>
                <div class="swiper-button-next slider-arrow">
                    <i class="fa-solid fa-arrow-right fa-lg" style="color: #000000;"></i>
                </div>
                <div class="swiper-pagination"></div>
            </div>

        </div>
    </section>





    <!-- search-bar -->
    <div class="container search-container">
        <div class="input-group mb-3">
            <span id="search-btn" class="input-group-text bg-white border-0">
                <i class="fa-solid fa-search"></i>
            </span>
            <input type="text" id="search-input" class="form-control search-bar"
                placeholder="ค้นหาจังหวัด หรือ ชื่อแมว . . . . . ">
            <span id="filter-btn" class="input-group-text bg-white border-0">
                <i class="fa-solid fa-sliders"></i>
            </span>
        </div>
        <span id="se-btn" class="input-group-text">
            <i class="bi-pencil"></i>
        </span>
    </div>


    <div class="modal fade" id="filterPopup" tabindex="-1" aria-labelledby="filterPopup" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered filterContainer ftout">
            <div class="modal-content filterContainer ">
                <!-- From Uiverse.io by Pradeepsaranbishnoi --> 
            <p class="topicform">Filter Panel <img src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fpiece%20(1).png?alt=media&token=b4df079d-d89e-4f24-905d-5f21e3b7bf78"></p>
            <i class="closefilter-btn fa-solid fa-xmark" id="closeFilter"></i>
            
            <div class="container catsex">
                <p class="topic">เพศของแมว</p>
                <form>
                    <label>
                        <input type="radio" name="catsex" value="ชาย">
                        <span>&nbsp;เพศผู้ &nbsp;<i class="fa-solid fa-mars fa-2xl" style="color: #74C0FC;"></i></span>
                    </label>

                    <label>
                        <input type="radio" name="catsex" value="หญิง">
                        <span>&nbsp;เพศเมีย &nbsp;<i class="fa-solid fa-venus fa-2xl" style="color: #e66cfe;"></i></span>
                        
                    </label>
                 
                </form>
            </div>

            
            <div class="container catcolor">
                <p class="topic">สีของแมว</p>
                <form>
                    <label>
                        <input type="radio" name="catcolor" value="ดำ">
                        <span>&nbsp;ดำ&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fblackcat.png?alt=media&token=2b04b4d0-2d83-4ee6-a0cb-0c6cb601de1d" ></span>
                    </label>

                    <label>
                        <input type="radio" name="catcolor" value="ขาว">
                        <span>&nbsp;ขาว&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fwhitecat.png?alt=media&token=21a74505-c852-4374-a757-0d9aa6181834" ></span>
                    </label>

                    <label>
                        <input type="radio" name="catcolor" value="ส้ม">
                        <span>&nbsp;ส้ม&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Forangecat.png?alt=media&token=7a6cd7a7-0680-4a3a-a383-8ba0d08f16a0" ></span>
                    </label>
                    <label>
                        <input type="radio" name="catcolor" value="เทา">
                        <span>&nbsp;เทา&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fgraycat.png?alt=media&token=ce3418f3-82e6-41a1-92d8-8c4dd7d35742" ></span>
                    </label>

                    <label>
                        <input type="radio" name="catcolor" value="สลิด">
                        <span>&nbsp;สลิด&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fsalidcat.png?alt=media&token=d776c3f3-cc6c-4fde-b807-a0f0713e251a" ></span>
                    </label>

                    <label>
                        <input type="radio" name="catcolor" value="สามสี">
                        <span>&nbsp;สามสี&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fsamsicat.png?alt=media&token=fedb834f-d6d4-4873-b3ae-6558880c481a" ></span>
                    </label>
                </form>
            </div>

            
            <div class="container catage">
                <p class="topic">ช่วงอายุของแมว</p>
                <form>
                    <label>
                        <input type="radio" name="catage" value="แมวเด็ก">
                        <span>&nbsp;แมวเด็ก&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fcat.png?alt=media&token=2989aa29-0663-4f7d-aba5-eb8d17324ffd"></span>
                    </label>

                    <label>
                        <input type="radio" name="catage" value="แมวโต">
                        <span>&nbsp;แมวโต&nbsp;<img class="imgLable" src="https://firebasestorage.googleapis.com/v0/b/catprojectce.firebasestorage.app/o/imageInWeb%2Fcat%20(1).png?alt=media&token=803ab330-c644-4ff4-960f-7c12e6d5ea51"></span>
                    </label>
                    
                </form>
            </div>
            <div class="d-flex gap-3">
                <button type="button" class="btn-filter" onclick="getSelectedCatSex()">บันทึก</button>
                <button type="button" class="btn-reset" onclick="resetFilter()">รีเซ็ตค่า</button>
            </div>
            
            </div>
        </div>
    </div>

    <!-- search-popup -->
            



    <!-- Popup -->
    <div class="modal fade" id="filterModal2" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content addpostPopup p-3">
                <form id="addPost">
                    <div class="modal-header">

                        <label for="catImg" class="avatar-label">
                            <div class="avatar" id="cat-preview"></div>
                        </label>
                        <input type="file" id="catImg" accept="image/*" style="display: none"
                            onchange="previewAvatar()">

                        <i class="close-btn fa-solid fa-xmark" id="closeAddpost"></i>

                    </div>

                    <div class="modal-body">

                        <label for="catName" class="labelPost">ชื่อแมว</label>
                        <input type="text" id="catName" class="form-control">

                        <label for="catSex" class="labelPost">เพศ</label>
                        <select id="catSex" class="form-select">
                            <option value="ชาย">เพศผู้ ♂</option>
                            <option value="หญิง">เพศเมีย ♀</option>
                        </select>

                        <label for="catColor" class="labelPost">สี</label>
                        <select id="catColor" class="form-select">
                            <option value="ดำ">ดำ</option>
                            <option value="ขาว">ขาว</option>
                            <option value="เทา">เทา</option>
                            <option value="ส้ม">ส้ม</option>
                            <option value="สลิด">สลิด</option>
                            <option value="สามสี">สามสี</option>
                        </select>

                        <label for="catAge" class="labelPost">ช่วงอายุ</label>
                        <select id="catAge" class="form-select">
                            <option value="แมวเด็ก">แมวเด็ก</option>
                            <option value="แมวโต">แมวโต</option>
                        </select>

                        <label for="catLocation" class="labelPost">จังหวัด</label>
                        <input list="provinceList" id="catLocation" placeholder="จังหวัดที่แมวอยู่. . . ."
                            class="form-control">
                        <datalist id="provinceList">
                            <option value="กรุงเทพ">
                            <option value="กระบี่">
                            <option value="กาญจนบุรี">
                            <option value="กาฬสินธุ์">
                            <option value="กำแพงเพชร">
                            <option value="ขอนแก่น">
                            <option value="จันทบุรี">
                            <option value="ฉะเชิงเทรา">
                            <option value="ชลบุรี">
                            <option value="ชัยนาท">
                            <option value="ชัยภูมิ">
                            <option value="ชุมพร">
                            <option value="เชียงราย">
                            <option value="เชียงใหม่">
                            <option value="ตรัง">
                            <option value="ตราด">
                            <option value="ตาก">
                            <option value="นครนายก">
                            <option value="นครปฐม">
                            <option value="นครพนม">
                            <option value="นครราชสีมา">
                            <option value="นครศรีธรรมราช">
                            <option value="นครสวรรค์">
                            <option value="นนทบุรี">
                            <option value="นราธิวาส">
                            <option value="น่าน">
                            <option value="บึงกาฬ">
                            <option value="บุรีรัมย์">
                            <option value="ปทุมธานี">
                            <option value="ประจวบคีรีขันธ์">
                            <option value="ปราจีนบุรี">
                            <option value="ปัตตานี">
                            <option value="อยุธยา">
                            <option value="พังงา">
                            <option value="พัทลุง">
                            <option value="พิจิตร">
                            <option value="พิษณุโลก">
                            <option value="เพชรบุรี">
                            <option value="เพชรบูรณ์">
                            <option value="แพร่">
                            <option value="พะเยา">
                            <option value="ภูเก็ต">
                            <option value="มหาสารคาม">
                            <option value="มุกดาหาร">
                            <option value="แม่ฮ่องสอน">
                            <option value="ยะลา">
                            <option value="ยโสธร">
                            <option value="ร้อยเอ็ด">
                            <option value="ระนอง">
                            <option value="ระยอง">
                            <option value="ราชบุรี">
                            <option value="ลพบุรี">
                            <option value="ลำปาง">
                            <option value="ลำพูน">
                            <option value="เลย">
                            <option value="ศรีสะเกษ">
                            <option value="สกลนคร">
                            <option value="สงขลา">
                            <option value="สตูล">
                            <option value="สมุทรปราการ">
                            <option value="สมุทรสงคราม">
                            <option value="สมุทรสาคร">
                            <option value="สระแก้ว">
                            <option value="สระบุรี">
                            <option value="สิงห์บุรี">
                            <option value="สุโขทัย">
                            <option value="สุพรรณบุรี">
                            <option value="สุราษฎร์ธานี">
                            <option value="สุรินทร์">
                            <option value="หนองคาย">
                            <option value="หนองบัวลำภู">
                            <option value="อ่างทอง">
                            <option value="อุดรธานี">
                            <option value="อุทัยธานี">
                            <option value="อุตรดิตถ์">
                            <option value="อุบลราชธานี">
                            <option value="อำนาจเจริญ">
                        </datalist>


                        <label class="labelPost" for="catDetails">รายละเอียดอื่นๆ</label>
                        <textarea class="form-control" id="catDetails" rows="3"
                            placeholder="เช่นต้องการบ้านที่มีพื้นที่ หรือความต้องการอื่นๆ"></textarea>

                    </div>

                    <div class="modal-footer">
                        <button type="submit" class="btn " id="applyFilter">สร้างโพส</button>
                    </div>

                </form>

            </div>

        </div>
    </div>

    <!-- EditPost popup-->
    <div class="modal fade" id="editpost" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content addpostPopup p-3">
                <form id="editPost">
                    <div class="modal-header">

                        <label for="edcatImg" class="avatar-label">
                            <div class="avatar" id="edcat-preview"></div>
                        </label>
                        <input type="file" id="edcatImg" accept="image/*" style="display: none"
                            onchange="previewCatAvatar()">

                        <i class="close-btn fa-solid fa-xmark" id="edcloseAddpost"></i>

                    </div>

                    <div class="modal-body">

                        <label for="catName" class="labelPost">ชื่อแมว</label>
                        <input type="text" id="edcatName" class="Form-control">

                        <label for="catSex" class="labelPost">เพศ</label>
                        <select id="edcatSex" class="form-select">
                            <option value="ชาย">เพศผู้ ♂</option>
                            <option value="หญิง">เพศเมีย ♀</option>
                        </select>

                        <label for="catColor" class="labelPost">สี</label>
                        <select id="edcatColor" class="form-select">
                            <option value="ดำ">ดำ</option>
                            <option value="ขาว">ขาว</option>
                            <option value="เทา">เทา</option>
                            <option value="ส้ม">ส้ม</option>
                            <option value="สลิด">สลิด</option>
                            <option value="สามสี">สามสี</option>
                        </select>

                        <label for="catAge" class="labelPost">ช่วงอายุ</label>
                        <select id="edcatAge" class="form-select">
                            <option value="แมวเด็ก">แมวเด็ก</option>
                            <option value="แมวโต">แมวโต</option>
                        </select>

                        <label for="catLocation" class="labelPost">จังหวัด</label>
                        <input list="provinceList" id="edcatLocation" placeholder="จังหวัดที่แมวอยู่. . . ."
                            class="Form-control">
                        <datalist id="provinceList">
                            <option value="กรุงเทพ">
                            <option value="กระบี่">
                            <option value="กาญจนบุรี">
                            <option value="กาฬสินธุ์">
                            <option value="กำแพงเพชร">
                            <option value="ขอนแก่น">
                            <option value="จันทบุรี">
                            <option value="ฉะเชิงเทรา">
                            <option value="ชลบุรี">
                            <option value="ชัยนาท">
                            <option value="ชัยภูมิ">
                            <option value="ชุมพร">
                            <option value="เชียงราย">
                            <option value="เชียงใหม่">
                            <option value="ตรัง">
                            <option value="ตราด">
                            <option value="ตาก">
                            <option value="นครนายก">
                            <option value="นครปฐม">
                            <option value="นครพนม">
                            <option value="นครราชสีมา">
                            <option value="นครศรีธรรมราช">
                            <option value="นครสวรรค์">
                            <option value="นนทบุรี">
                            <option value="นราธิวาส">
                            <option value="น่าน">
                            <option value="บึงกาฬ">
                            <option value="บุรีรัมย์">
                            <option value="ปทุมธานี">
                            <option value="ประจวบคีรีขันธ์">
                            <option value="ปราจีนบุรี">
                            <option value="ปัตตานี">
                            <option value="อยุธยา">
                            <option value="พังงา">
                            <option value="พัทลุง">
                            <option value="พิจิตร">
                            <option value="พิษณุโลก">
                            <option value="เพชรบุรี">
                            <option value="เพชรบูรณ์">
                            <option value="แพร่">
                            <option value="พะเยา">
                            <option value="ภูเก็ต">
                            <option value="มหาสารคาม">
                            <option value="มุกดาหาร">
                            <option value="แม่ฮ่องสอน">
                            <option value="ยะลา">
                            <option value="ยโสธร">
                            <option value="ร้อยเอ็ด">
                            <option value="ระนอง">
                            <option value="ระยอง">
                            <option value="ราชบุรี">
                            <option value="ลพบุรี">
                            <option value="ลำปาง">
                            <option value="ลำพูน">
                            <option value="เลย">
                            <option value="ศรีสะเกษ">
                            <option value="สกลนคร">
                            <option value="สงขลา">
                            <option value="สตูล">
                            <option value="สมุทรปราการ">
                            <option value="สมุทรสงคราม">
                            <option value="สมุทรสาคร">
                            <option value="สระแก้ว">
                            <option value="สระบุรี">
                            <option value="สิงห์บุรี">
                            <option value="สุโขทัย">
                            <option value="สุพรรณบุรี">
                            <option value="สุราษฎร์ธานี">
                            <option value="สุรินทร์">
                            <option value="หนองคาย">
                            <option value="หนองบัวลำภู">
                            <option value="อ่างทอง">
                            <option value="อุดรธานี">
                            <option value="อุทัยธานี">
                            <option value="อุตรดิตถ์">
                            <option value="อุบลราชธานี">
                            <option value="อำนาจเจริญ">
                        </datalist>


                        <label class="labelPost" for="catDetails">รายละเอียดอื่นๆ</label>
                        <textarea class="Form-control" id="edcatDetails" rows="3"
                            placeholder="เช่นต้องการบ้านที่มีพื้นที่ หรือความต้องการอื่นๆ"></textarea>

                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn " id="edconfirmpost">ยืนยัน</button>
                    </div>

                </form>

            </div>

        </div>
    </div>

    <!-- comment-pop-up -->
    <div class="commentpop-container" id="commentpop-popup">

    </div>


    <!-- ------------------------------------- Mock Up Post ---------------------------------------------------- 

    <div class="card cat-card mb-3">
        <div class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <img class="cat-img me-3"
                    src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzhkaDNqeTJjZDhiZzcwdXJjOHB0ZW05MnVxZG03Zmxyd3JpNTJtNSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/CjmvTCZf2U3p09Cn0h/giphy.gif"
                    alt="Cat Image">
                <div class="top-right">
                    <p class="location"><span>Bangkok</span><span class="catnameMobile"> | Fluffy ♂</span></p>
                    <p class="timepost mb-1">2h ago</p>
                    <p class="detail mb-0">A cute and friendly cat looking for a new home!</p>
                </div>
            </div> 

            
            <div class="menu-container">
                <div class="menu-icon" onclick="toggleDropdown()">
                    <i class="fa-solid fa-ellipsis" style="color: #ffffff;"></i>
                </div> 

               
                 <div class="dropdown-menu" id="dropdownMenu">
                    <p onclick="alert('Edit Clicked')">Edit</p>
                    <p onclick="alert('Delete Clicked')">Delete</p>
                    <p onclick="alert('Share Clicked')">Share</p>
                </div>
            </div>
        </div> 

         <div class="bottom-section d-flex justify-content-between align-items-center mt-3">
            <p class="catname">Fluffy ♂</p>

            <div class="social-button">
                <button class="bt-like me-2">
                    <canvas class="hicon"></canvas>
                    <p class="cl">2.8k</p>
                </button>
                <button class="bt-comment" id="commentpop-open">
                    <i class="fa-solid fa-comment"></i> 200
                </button>
                <button class="bt-bookmark me-2">
                    <canvas class="canBook bicon"></canvas>
                </button>
            </div>

            <button class="btn adopt-btn">ADOPT</button>
        </div>
    </div>


     --------------------------------------- Mock Up Post -------------------------------------------------- -->


    <div class="container" id="catList"> 

    </div>


    <!-----adopt popup-------------------------------->

    <div id="adoptPopup">
    </div>


    <!-----deletePost popup-------------------------------->

    <div class="DeleteForm" id="DeleteForm">
        <button id="confirmbutton"> ตกลง </button>
        <button id="cancelbutton"> ยกเลิก </button>
    </div>

    <!---------------Model----------------------------------->
    <model-viewer src="../img/cat_in_flowers.glb" auto-rotate auto-rotate-speed="10" class="model">

    </model-viewer>


    <!-------------------------------------------------->

    <footer class="text-center mt-5">

        <!-- Copyright -->
        <div class="text-center p-3" style=" color: #E09030; font-weight: bold;">
            © 2025 Copyright : CEKMITL
        </div>
        <!-- Copyright -->
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-database-compat.js"></script>
    
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <script src="../js/index.js"></script>

    <script type="module">
        import { displayAllposts } from "../js/displayPost.js";
        import { addPostData, search_accountByid } from "../js/db.js";
        await displayAllposts(); // รอให้ฟังก์ชัน displayCats ทำงานเสร็จ

        // search หาแมวจาก location หรือ catname 
        $(document).ready(function () {
            $('#search-input').on('keyup', function () {
                let value = $(this).val().toLowerCase();
                $('.cat-card').filter(function () {
                    const location = $(this).find('.location').text().toLowerCase();
                    const catname = $(this).find('.catname').text().toLowerCase();
                    $(this).toggle(location.includes(value) || catname.includes(value));
                });
            });
        });

        //AddPost Function สร้างโพสจาก form id addPost
        document.getElementById("addPost").addEventListener("submit", async function (event) {
            event.preventDefault(); // ป้องกันการรีเฟรชหน้า

            const catFile = document.getElementById("catImg");
            const catImg = catFile.files[0];
            const catName = document.getElementById("catName").value;
            const catSex = document.getElementById("catSex").value;
            const catColor = document.getElementById("catColor").value;
            const catAge = document.getElementById("catAge").value;
            const catLocation = document.getElementById("catLocation").value;
            const catDetails = document.getElementById("catDetails").value;

            let user = sessionStorage.getItem("user");
            const account = await search_accountByid(user);
            const owner = account.id;

            if (catImg && catName && catLocation && catDetails) {
                await addPostData(catImg, catName, catSex, catColor, catAge, catLocation, catDetails, owner);
                await displayAllposts();
                // ปิด Modal โดยใช้ getInstance()
                const modalElement = document.getElementById("filterModal2");
                const modal = bootstrap.Modal.getInstance(modalElement);
                if (modal) {
                    modal.hide();
                }
            }
            else {
                alert("กรุณากรอกข้อมูลให้ครบ")
            }

        });
    </script>


    <script type="module">
        import { search_accountByid } from "../js/db.js";
        import { displayNotification, check_stateNoti} from "../js/notification.js";
        document.addEventListener("DOMContentLoaded", async function () {
            let right_button = document.getElementById('rigth-btn');
            let user_side = document.getElementById('user-side');
            let userimg_side = document.getElementById('userimg-side');
            let user = sessionStorage.getItem("user");

            if (user && right_button) {
                right_button.classList.add('account-btn');
                right_button.id = 'user-sidebar';

                try {
                    let account = await search_accountByid(user);
                    user_side.textContent = account.username;
                    userimg_side.src = account.img;
                    

                    // สร้าง container ครอบ img-user
                    let imgContainer = document.createElement("div");
                    imgContainer.classList.add("img-user-container");

                    let content = document.createElement('img');
                    content.classList.add('img-user');
                    content.src = account.img;

                    // เพิ่มจุดสีแดงบนโปรไฟล์
                    let notificationDot = document.createElement("span");
                    notificationDot.classList.add("notification-dot");
                    notificationDot.id = "notification-dot";
                    notificationDot.style.opacity = 0;

                    imgContainer.appendChild(content);
                    imgContainer.appendChild(notificationDot);
                    right_button.appendChild(imgContainer);

                    await displayNotification(account.id)
                    
                } catch (error) {
                    console.error("เกิดข้อผิดพลาดในการดึงข้อมูลผู้ใช้:", error);
                }
            } else if (right_button) {
                right_button.href = "../html/regis.html";
                right_button.classList.add('login-btn');

                let content = document.createElement('i');
                content.classList.add('fa-solid', 'fa-user', 'me-1');
                right_button.appendChild(content);
                right_button.appendChild(document.createTextNode(' Login'));
            }

            // ฟังก์ชันเปิด/ปิด Sidebar
            async function toggleSidebar() {
                document.getElementById("sidebar").classList.toggle("active");
                return new Promise(resolve => setTimeout(resolve, 300)); // รอ 300ms
            }

            // ตรวจสอบว่ามีปุ่มเปิด sidebar หรือไม่
            let userSidebarBtn = document.getElementById("user-sidebar");
            let account = await search_accountByid(user);
            if (userSidebarBtn) {
                userSidebarBtn.addEventListener("click",async function (event) {
                    event.preventDefault();                   
                    await check_stateNoti(account.id);
                    await toggleSidebar();
                });
            }

            // ปุ่มปิด sidebar
            let closeBtn = document.getElementById("close-btn");
            if (closeBtn) {
                closeBtn.addEventListener("click", function () {
                    document.getElementById("sidebar").classList.remove("active");
                });
            }


            // ปุ่ม logout
            let logoutBtn = document.getElementById("logout-btn");
            if (logoutBtn) {
                logoutBtn.addEventListener("click", async function (event) {
                    event.preventDefault();
                    sessionStorage.removeItem("user");
                    await toggleSidebar(); // รอให้ทำงานเสร็จ
                    window.location.href = "../html/index.html" ;
                });
            }


            // สร้าง instance ของ Modal ครั้งเดียวตอนโหลดหน้าเว็บ
            const modal = new bootstrap.Modal(document.getElementById("filterModal2"));

            // เปิด Modal เมื่อกดปุ่ม "se-btn"
            document.getElementById("se-btn").addEventListener("click", function () {
                if (user) {
                    modal.show();
                } else {
                    window.location.href = "../html/regis.html";
                }
            });

            // ปิด Modal เมื่อกดปุ่ม "closeAddpost"
            document.getElementById("closeAddpost").addEventListener("click", function () {
                modal.hide();
            });

        });

        // ประกาศตัวแปร filterPopup เป็น Global
        let filterPopup = null;

        // เปิด Modal เมื่อกดปุ่ม filter-btn
        document.getElementById('filter-btn').addEventListener('click', function () {
            filterPopup = new bootstrap.Modal(document.getElementById('filterPopup'), {
                backdrop: 'static', // ปิดการปิด Modal เมื่อคลิกข้างนอก
                keyboard: false // ปิดการปิด Modal เมื่อกดปุ่ม ESC
            });
            filterPopup.show();
        });

        // ปิด Modal เมื่อกดปุ่ม closeFilter
        document.getElementById("closeFilter").addEventListener("click", function () {
            if (filterPopup) {
                filterPopup.hide();
            }
        });



    </script>

    <script defer>
        var TrandingSlider = new Swiper('.tranding-slider', {
            effect: 'coverflow',
            grabCursor: true,
            centeredSlides: true,
            loop: true,
            slidesPerView: 'auto',
            coverflowEffect: {
                rotate: 0,
                stretch: 0,
                depth: 100,
                modifier: 2.5,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            }
        });
    </script>

    <script>
         function previewCatAvatar() {
            const file = document.getElementById("edcatImg").files[0];
            const preview = document.getElementById("edcat-preview");

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    preview.style.backgroundImage = `url(${e.target.result})`;
                    preview.style.backgroundSize = "cover";
                    preview.style.backgroundPosition = "center";
                    preview.style.border = "5px solid #E09030";
                };
                reader.readAsDataURL(file);
            }
        }
    </script>


    <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
</body>

</html>