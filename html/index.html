<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Gang</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/index.css">

</head>

<body>
    
    <p id="user"></p>
    <img id="img_account">
    <center> <h1> Cat Project is coming soon !! </h1></center>
    <h1>Mock up Cat List</h1>
  
  <div id="popup" class="popup">
    <div class="popup-content">
        <span id="close-popup" class="close">&times;</span>
        <div id="popup-text"></div> <!-- เปลี่ยนจาก <p> เป็น <div> -->
    </div>
</div>


  <ul id="catList"></ul> <!-- แสดงข้อมูล Firebase ที่นี่ -->
    
</body>
<script type="module">
    import {search_account} from "../js/db.js";
    let user = sessionStorage.getItem("user");
    let p = document.getElementById("user");
    let img = document.getElementById('img_account');
    

    if (user){
        p.textContent = `Welcome  ${user}`;
        const account = await search_account(user);
        if(account.img){
            img.src = account.img;
        }
        else{
            img.style.display = 'none';
        }
        
    }
    else{
        p.textContent = `Welcome`;
        img.style.display = 'none';
    }

    

</script>
<script type="module">
    import { displayCats } from "../js/db.js";
    await displayCats(); // รอให้ฟังก์ชัน displayCats ทำงานเสร็จ

  </script>


</body>

</html>